<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Login Caja de Ahorro</title>
  <link rel="stylesheet" href="../css/estilo.css">
</head>
<body>
  <header class="header">
    <div class="container flex">
      <div class="logo-horizontal"></div>
      <div class="text-sm text-muted">Sistema de Administración de la Caja de Ahorro</div>
    </div>
  </header>

  <main class="container" style="max-width: 600px; margin-top: var(--spacing-lg);">
    <section class="card form-solicitud">
      <h1>Iniciar Sesión</h1>
      <form id="formLogin">
        <div class="input-group">
          <label for="usuario">Usuario</label>
          <input type="text" id="usuario" name="usuario" placeholder="Ingresa tu usuario" required>
        </div>
        <div class="input-group">
          <label for="password">Contraseña</label>
          <input type="password" id="password" name="password" placeholder="Ingresa tu contraseña" required>
        </div>
        <button type="submit" class="btn btn-primary">Entrar</button>
      </form>
      <p id="mensaje" style="margin-top: var(--spacing-sm);"></p>
    </section>
  </main>

  <footer class="footer">
    <div class="logo-horizontal-inferior"></div>
    <p class="text-sm">&copy; 2025 Caja de Ahorro</p>
  </footer>

  <script>
  // Escucha el evento 'submit' del formulario
  document.getElementById("formLogin").addEventListener("submit", function(event) {
    event.preventDefault(); // Evita recargar la página

    // Obtener valores de los campos
    const usuario = document.getElementById("usuario").value.trim();
    const password = document.getElementById("password").value.trim();
    const mensaje = document.getElementById("mensaje");

    // Validar campos vacíos
    if (usuario === "" || password === "") {
      mensaje.textContent = "Por favor, completa todos los campos.";
      mensaje.style.color = "red";
      return;
    }

    // Si todo está lleno, simular el login
    simularLogin(usuario, password);
  });

  // Datos simulados de usuarios
  const usuarios = [
    { nombre: "admin", password: "1234", rol: "Administrador" },
    { nombre: "juan", password: "abcd", rol: "Ahorrador" }
  ];

  // Función de simulación de login
  function simularLogin(usuario, password) {
    const mensaje = document.getElementById("mensaje");

    // Buscar usuario en los datos simulados
    const user = usuarios.find(u => u.nombre === usuario && u.password === password);

    if (user) {
      mensaje.textContent = `Bienvenido, ${user.nombre} (${user.rol})`;
      mensaje.style.color = "green";
      // Aquí puedes redirigir según el rol
      // if (user.rol === 'Administrador') window.location.href = '/admin.html';
      // else window.location.href = '/portal.html';
    } else {
      mensaje.textContent = "Usuario o contraseña incorrectos o no registrados.";
      mensaje.style.color = "red";
    }
  }
  </script>
</body>
</html>
